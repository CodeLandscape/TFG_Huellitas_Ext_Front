<div class="container mt-4 spinner-border" role="status" *ngIf="isLoading">
  <span class="sr-only">Loading...</span>
</div>
<div class="container mt-4" *ngIf="!isLoading">
  <div class="d-flex justify-content-center">
    <a class="btn btn-danger m-3" [routerLink]="['/animal',idAnimal]">Volver al perfil</a>
  </div>
  <h1 class="text-center m-5">Listado Solicitudes de {{nombreAnimal}}</h1>

  <table id="datatable" class="table table-striped table-bordered">
    <thead>
    <tr>
      <th>Correo del interesado</th>
      <th class="min-tablet-l">Tel√©fono del interesado</th>
      <th class="min-tablet-l">Estado</th>
      <th class="min-tablet-l">Opciones</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let animalPersona of animalPersonas">
      <td>{{ animalPersona.idPersona.correo }}</td>
      <td class="min-tablet-l">{{ animalPersona.idPersona.tlf }}</td>
      <td class="min-tablet-l">
        <span [ngClass]="{'badge rounded-pill bg-danger': !animalPersona.estado, 'badge rounded-pill bg-success text-white': animalPersona.estado || !animalPersona.estado}">
        {{ animalPersona.estado ? 'Aceptada' : 'Pendiente' }}
        </span>
      </td>
      <td class="min-tablet-l">
        <span class="d-flex">
          <button *ngIf="!animalPersona.estado" class="btn btn-success m-2" (click)="aceptarSolicitud(animalPersona.id.idAnimal, animalPersona.id.idPersona)">Aceptar</button>
          <button *ngIf="!animalPersona.estado" class="btn btn-danger m-2" (click)="rechazarSolicitud(animalPersona.id.idAnimal, animalPersona.id.idPersona)">Rechazar</button>
        </span>
      </td>
    </tr>
    </tbody>
  </table>
</div>
